# 会员智能运营闭环 - 快速启动指南

## 📋 检查清单

在启动前，请确认以下步骤：

### ✅ 步骤1: 安装依赖

```bash
cd /Users/chocho/Downloads/IOP
pip install -r requirements.txt
```

### ✅ 步骤2: 配置API Key

**方法1: 使用.env文件（推荐）**
```bash
# 创建.env文件
cp .env.example .env

# 编辑.env文件，添加你的API Key
# OPENAI_API_KEY=sk-your-api-key-here
```

**方法2: 在界面中输入**
- 启动应用后，在左侧边栏输入API Key

### ✅ 步骤3: 验证数据文件

```bash
ls data/
# 应该看到4个CSV文件:
# - daily_metrics.csv (日报数据)
# - user_segments.csv (用户分层)
# - campaign_history.csv (历史活动)
# - resource_capacity.csv (资源位容量)
```

如果没有数据文件，运行：
```bash
python scripts/generate_data.py
```

### ✅ 步骤4: 启动应用

```bash
streamlit run app.py
```

浏览器会自动打开 http://localhost:8501

---

## 🎯 5分钟演示流程

### 1. 主页（10秒）
- 在左侧边栏输入OpenAI API Key
- 等待系统加载数据
- 查看快速数据预览

### 2. 页面1：目标规划（30秒）
- 选择目标指标：单DAU边现
- 设定提升幅度：15%
- 选择目标人群：家庭向高活跃
- 选择周期：1周
- 查看可行性分析和目标拆解树

### 3. 页面2：人群策略（90秒 - 核心）
- 输入运营目标："提升家庭向用户的会员收入15%,重点在周末档期"
- 点击"AI智能推荐策略"
- 查看6个推荐卡片：
  - 👥 目标人群：家庭向高活跃 (86万)
  - 🎬 内容策略：家庭剧70%+动漫20%+综艺10%
  - 📺 资源位：首页位3+详情页推荐
  - 💰 优惠：10元券
  - 📊 KPI：边现+0.019元，ROI 1.30
  - ⚠️ 风险：建议延长周期至7天以上
- 拖动滑块体验预算模拟器
- 下载执行模板

### 4. 页面3：实时监控（60秒 - 核心）
- 查看AI异常预警卡片（系统自动检测到3个异常点）
- 查看多指标监控面板
- 选择一个异常日期
- 点击"生成AI分析"
- 查看AI分析报告：
  - 核心原因
  - 数据洞察
  - 行动建议
- 下载行动清单

### 5. 页面4：AI复盘（30秒）
- 选择复盘周期（默认全部数据）
- 点击"生成AI复盘报告"
- 查看完整报告：
  - 核心成果
  - 驱动因素
  - 待优化项
  - 下期建议
- 查看内容类型ROI排行
- 下载复盘报告

### 6. 页面5：经验库（45秒 - 核心）
- 输入查询："提升单DAU边现,重点在家庭向用户"
- 点击"检索相似活动"
- 查看3个相似案例（包含ROI、相似度）
- 展开查看详情
- 查看AI复用建议
- 下载复用模板

---

## 💡 演示话术参考

### 开场（30秒）
> 大家好！今天展示的是**会员智能运营闭环系统**。它解决3个核心问题：
>
> 1. **决策慢** —— 制定策略从2天缩短至5分钟
> 2. **投放盲** —— 实时看到哪个策略ROI最高
> 3. **经验散** —— 所有成功案例自动沉淀供复用
>
> 接下来我将用5分钟演示完整闭环流程。

### 演示中（强调核心亮点）
> - **页面2**："看，AI只用5秒就推荐了完整策略，包括人群、内容配比、资源位、预估ROI"
> - **页面3**："系统自动检测到3个异常点，AI马上分析出原因和解决方案"
> - **页面5**："输入目标，RAG立即检索出历史上最相似的活动，相似度达90%"

### 收尾（30秒）
> 这就是我们的AI智能运营闭环。上线后预计：
>
> - 策略制定效率 **+60%**
> - 会员边现提升 **+15-20%**
> - 活动ROI **+30%**
>
> 谢谢大家！

---

## 🔧 常见问题排查

### Q: streamlit命令找不到
```bash
# 重新安装streamlit
pip install streamlit==1.31.0
```

### Q: 导入模块报错
```bash
# 确保在IOP目录下运行
cd /Users/chocho/Downloads/IOP
python -c "from modules.data_loader import DataLoader; print('OK')"
```

### Q: API调用超时
- 检查网络连接
- 在config.py中增大OPENAI_TIMEOUT
- 或使用降级方案（系统自动）

### Q: 数据加载失败
```bash
# 重新生成数据
python scripts/generate_data.py
```

---

## 📊 性能验收标准

- [ ] AI策略推荐 < 10秒返回
- [ ] AI异常解释 < 10秒返回
- [ ] AI复盘报告 < 15秒返回
- [ ] RAG检索返回 ≥ 2个案例
- [ ] 异常检测到 ≥ 1个异常点
- [ ] 所有页面可正常切换
- [ ] 容错机制生效（测试API失败）

---

## 🎉 开始演示吧！

```bash
# 最后确认
cd /Users/chocho/Downloads/IOP
python scripts/generate_data.py  # 确保数据存在
streamlit run app.py             # 启动应用
```

**祝演示成功！** 🚀
